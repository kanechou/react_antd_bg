function MyApp(){_2u.call(this);this.m_bChanging=!1;this.g_oSSDModels={};this.g_oSSDModels["120"]={row:"10",adder:96};this.g_oSSDModels["180"]={row:"12",adder:144};this.g_oSSDModels["240"]={row:"14",adder:192};this.g_oSSDModels["360"]={row:"16",adder:288};this.g_oSSDModels["480"]={row:"18",adder:384};this._3()}MyApp._2(["_2u"]);MyApp._0(_2u);
MyApp.prototype._3=function(){MyApp._1._3.apply(this,arguments);$(".myButton").click(MyApp.prototype._onClick);this.m_oDM._2d("charts",renderChart);$(".standardInput").on("change",function(a){$(this);void 0==a.trigger&&_1b._1f("standardInputChange")});$(".advancedInput").on("change",function(a){$(this);void 0==a.trigger&&_1b._1f("advancedInputChange")})};
MyApp.prototype._onClick=function(){var a=$(this);if(a.data("target"))$.bbq.pushState({page:a.data("target"),anchorTarget:a.data("anchortarget")},2);else switch(a=a.data("id"),a){case "showAdvancedInputsButton":case "hideAdvancedInputsButton":case "advancedInputsButton":toggleAdvancedInputs();break;case "help":_1b._1f(a);_2h.theApp.onHelp();break;case "createReport":_2h.theApp.onCreateReport();break;case "createPDF":$("#createReportPopup")._1m("close");_1b._1f(a);_2h.theApp._2w("pdf");
break;case "createPPT":$("#createReportPopup")._1m("close");_1b._1f(a);_2h.theApp._2w("ppt");break;case "reset":_2h.theApp.reset();break;default:alert("Unknown button '"+a+"'")}};
MyApp.prototype._2m=function(a){Log.debug("MyApp._2m");var b=this;$("[data-id='includeVproBenefit']")._20().on("change",function(){Log.debug("RadioButtonGroup change!")});MyApp._1._2m.apply(this,arguments);this.initSliders();this.syncStorageSizeAndMix();_2h.theApp.m_oControls._23($("#summaryPane"));$("#ssd1,#ssd2").change(function(){var a=$(this);b.onChangeSSDSize(a)});$(".myStepper")._1q("option","outOfRange",onOutOfRangeStepper);$(".myStepper, .mySliderAmount")._1v({showOnHover:!1,
showOnClick:!1,autoHide:!0,origin:"top right",offsetY:0,hideOnMouseMove:!1});$(".showAcgTooltip")._1v();Log.debug("Calling initSummaryChart");initSummaryChart()};
MyApp.prototype._2r=function(){Log.debug("MyApp._2r");$(".axisLabelAmount").each(function(){var a=$(this),b=a.data("id"),b=_2h.theApp.m_oControls._27(b).value;a.css("color",0<=b?"#45a9ee":"#e30033")});_2h.theApp.m_oControls._23($("#summaryPane"));_2h.theApp.m_oControls._23($(".advancedInputsRow"));updateSummaryChartData();_2h.theApp._1j("netSavings2",sprintf(_2h.theApp._1l("netSavings"),_2h.theApp.m_oControls._27("Revised_Inputs_C23").value));
$("#netSavingsLabel").html(_2h.theApp._1l("netSavings2"))};MyApp.prototype._3a=function(){_2h.theApp.m_oDM._2f(!1);$("#terms-and-conditions")._1m({width:"90%",maxWidth:"864px",maxHeight:"90%"})};MyApp.prototype._onAcceptTerms=function(a){a.alert._1m("close");_2h.theApp.m_oDM._2f(!0);_2h.theApp.m_bTermsAccepted||(_2h.theApp.m_bTermsAccepted=!0,_1b._1f("acceptTerms"));_2h.theApp.onGettingStarted()};
MyApp.prototype.onGettingStarted=function(){$("#helpPopup")._1m({title:_2h.theApp._1l("gettingStarted"),width:"90%",maxWidth:"864px",maxHeight:"90%",closeOnEscape:!0})};MyApp.prototype.onHelp=function(){$("#helpPopup")._1m({width:"90%",maxWidth:"864px",maxHeight:"90%",closeOnEscape:!0})};
MyApp.prototype.onCreateReport=function(){$("#createReportPopup")._1m({width:"90%",maxWidth:"864px",maxHeight:"90%",open:function(){$("#createPPTButton, #createPDFButton").click(MyApp.prototype._onClick)},closeOnEscape:!0})};
MyApp.prototype.initSliders=function(){var a=this;$(".acgSlider")._1z("option","outOfRange",onOutOfRangeSlider);$("#ssd1MixSlider,#ssd2MixSlider")._1z("option","change",function(b,d){a.onChangeMixSlider(b,d)});$("#ssd1AdderSlider,#ssd2AdderSlider")._1z("option","change",function(b,d){a.onChangeAdderSlider(b,d)})};
function syncSliderToInputField(a){var b=a.data("acgslider"),b=$("#"+b),d=b.data("acgcontrol"),a=a.val(),d=_1u.settingsFromJQ(d),a=_1u.defaultDisplayToValue(a,d);isNaN(a)&&(a=b.slider("option","value"));b.slider("option","value",a)}
function toggleAdvancedInputs(){$("#showAdvancedInputsButton").is(":visible")?($(".advancedInputsRow").show(),$("#showAdvancedInputsButton").hide(),$("#hideAdvancedInputsButton").show(),$("#advancedInputsButtonText").text(_2h.theApp._1l("hideAdvancedInputs"))):($(".advancedInputsRow").hide(),$("#hideAdvancedInputsButton").hide(),$("#showAdvancedInputsButton").show(),$("#advancedInputsButtonText").text(_2h.theApp._1l("showAdvancedInputs")))}
function onOutOfRangeStepper(a){var b=parseFloat(a._1q("option","min")),d=parseFloat(a._1q("option","max")),e=a.data("_1q"),f=_1u.formatValue(b,e),e=_1u.formatValue(d,e),c="",c=_2h.theApp._1l("rangeErrorValueNotValid");!isNaN(b)&&!isNaN(d)?(c=_2h.theApp._1l("rangeErrorEnterMinMax"),c=sprintf(c,f,e)):isNaN(b)?isNaN(d)||(c=_2h.theApp._1l("rangeErrorEnterMax"),c=sprintf(c,e)):(c=_2h.theApp._1l("rangeErrorEnterMin"),
c=sprintf(c,f));a._1v("option","content",c);a._1v("show")}
function onOutOfRangeSlider(a){var b=parseFloat(a._1z("option","min")),d=parseFloat(a._1z("option","max")),e=a.data("acgslider"),f=_1u.formatValue(b,e),e=_1u.formatValue(d,e),c="",c=_2h.theApp._1l("rangeErrorValueNotValid");!isNaN(b)&&!isNaN(d)?(c=_2h.theApp._1l("rangeErrorEnterMinMax"),c=sprintf(c,f,e)):isNaN(b)?isNaN(d)||(c=_2h.theApp._1l("rangeErrorEnterMax"),c=sprintf(c,e)):(c=_2h.theApp._1l("rangeErrorEnterMin"),
c=sprintf(c,f));a=$("input[data-acgslider='"+a.attr("id")+"']");a._1v("option","content",c);a._1v("show")}MyApp.prototype.onChangeMixSlider=function(a,b){if(!_2h.theApp.m_bChanging){_2h.theApp.m_bChanging=!0;var d="ssd1MixSlider"==$(a.target).attr("id")?"ssd2MixSlider":"ssd1MixSlider",e=1-b.value;$("#"+d)._1z("setValue",e);_2h.theApp.m_bChanging=!1;this.syncStorageSizeAndMix()}};MyApp.prototype.onChangeAdderSlider=function(){this.syncStorageSizeAndMix()};
MyApp.prototype.onChangeSSDSize=function(a){var b=a.attr("id"),a=a.val(),a=this.g_oSSDModels[a].adder;$("#"+b+"AdderSlider")._1z("setValue",a);this.syncStorageSizeAndMix()};
MyApp.prototype.syncStorageSizeAndMix=function(){var a={},b={},d=["ssd1","ssd2"],e;for(e in this.g_oSSDModels)a[e]=0,b[e]=0;for(var f=0;f<d.length;f++){var c=$("#"+d[f]).val(),g=$("#"+d[f]+"MixSlider")._1z("getValue");a[c]=g;g=$("#"+d[f]+"AdderSlider")._1z("getValue");b[c]=g;g="ssd1"==d[f]?"ssd2":"ssd1";$("#"+g).find("option").attr("disabled",!1);$("#"+g).find("option").removeAttr("disabled");$("#"+g).find("option[value='"+c+"']").attr("disabled","disabled")}d=this.m_oDM._2g();
this.m_oDM._2f(!1);for(e in a)f="Revised_Inputs_C"+this.g_oSSDModels[e].row,g=a[e],_2h.theApp.m_oControls._26(f,g);for(e in b)f="Revised_Inputs_D"+this.g_oSSDModels[e].row,g=b[e],_2h.theApp.m_oControls._26(f,g);this.m_oDM._2f(d);this._2r()};function getIncludeVProBenefitString(){var a=_2h.theApp.m_oControls._27("ACG_G10").value,b=a.substr(0,1),a=a.substr(1);return b.toUpperCase()+a}
MyApp.prototype.reset=function(){Log.debug("MyApp.reset");_2h.theApp.m_bResetting=!0;_2h.theApp.m_oDM._2f(!1);_2h.theApp.m_oControls._22();_2h.theApp.m_oDM._2f(!0);_2h.theApp.m_oDM._2c();Log.debug("Refreshing output due to reset");_2h.theApp._2r();_2h.theApp.m_bResetting=!1;Log.debug("reset complete.")};
